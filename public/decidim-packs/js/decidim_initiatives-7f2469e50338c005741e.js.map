{"version":3,"file":"js/decidim_initiatives-7f2469e50338c005741e.js","mappings":"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","sources":["webpack://app/webpack/runtime/chunk loaded","webpack://app/../../../.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/decidim-47971368df59/decidim-initiatives/app/packs/images/ sync ^\\.\\/.*$","webpack://app/../../../.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/decidim-47971368df59/decidim-core/app/packs/src/decidim/editor/modified_enter.js","webpack://app/../../../.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/decidim-47971368df59/decidim-core/app/packs/src/decidim/editor/attribute_diff.js","webpack://app/../../../.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/decidim-47971368df59/decidim-core/app/packs/src/decidim/editor/modified_backspace_offset1.js","webpack://app/../../../.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/decidim-47971368df59/decidim-core/app/packs/src/decidim/editor/history_override.js","webpack://app/../../../.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/decidim-47971368df59/decidim-core/app/packs/src/decidim/editor/linebreak_module.js","webpack://app/../../../.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/decidim-47971368df59/decidim-core/app/packs/src/decidim/editor/modified_backspace_offset_any.js","webpack://app/../../../.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/decidim-47971368df59/decidim-initiatives/app/packs/entrypoints/decidim_initiatives.js","webpack://app/../../../.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/decidim-47971368df59/decidim-initiatives/app/packs/src/decidim/initiatives/identity_selector_dialog.js","webpack://app/../../../.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/bundler/gems/decidim-47971368df59/decidim-initiatives/app/packs/src/decidim/initiatives/scoped_type.js","webpack://app/webpack/bootstrap","webpack://app/webpack/runtime/hasOwnProperty shorthand","webpack://app/webpack/runtime/node module decorator","webpack://app/webpack/runtime/publicPath","webpack://app/webpack/runtime/jsonp chunk loading","webpack://app/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var map = {\n\t\"./decidim/gamification/badges/decidim_gamification_badges_initiatives.svg\": 62854,\n\t\"./decidim/initiatives/decidim_initiatives.svg\": 60599\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 67966;","/* eslint-disable require-jsdoc */\n\nconst Parchment = Quill.import(\"parchment\")\nconst Delta = Quill.import(\"delta\");\n\nconst getLineFormats = (context) => {\n  return Object.keys(context.format).reduce(\n    (formats, format) => {\n      // See Parchment registry.ts => (1 << 3) | ((1 << 2) - 1) = 8 | 3 = 11\n      const blockScope = 11;\n      if (\n        Parchment.query(format, blockScope) &&\n        !Array.isArray(context.format[format])\n      ) {\n        formats[format] = context.format[format];\n      }\n      return formats;\n    },\n    {},\n  );\n}\n\nconst continueFormats = (quill, context, lineFormats) => {\n  Object.keys(context.format).forEach((name) => {\n    if (typeof lineFormats[name] !== \"undefined\" && lineFormats[name] !== null) {\n      return;\n    }\n    if (Array.isArray(context.format[name])) {\n      return;\n    }\n    if (name === \"link\") {\n      return;\n    }\n    quill.format(name, context.format[name], Quill.sources.USER);\n  });\n}\n\nconst lineBreakHandler = (quill, range, context) => {\n  const currentLeaf = quill.getLeaf(range.index)[0];\n  const nextLeaf = quill.getLeaf(range.index + 1)[0];\n  const previousChar = quill.getText(range.index - 1, 1);\n  const formats = quill.getFormat(range.index);\n\n  if (currentLeaf?.next?.domNode?.tagName === \"A\" || nextLeaf?.parent?.domNode?.tagName === \"A\") {\n    quill.insertEmbed(range.index, \"break\", true, \"user\");\n    quill.removeFormat(range.index, 1, Quill.sources.SILENT)\n  } else {\n    quill.insertEmbed(range.index, \"break\", true, \"user\");\n  }\n\n  if (nextLeaf === null) {\n    quill.insertEmbed(range.index, \"break\", true, \"user\");\n  } else if (context.offset === 1 && previousChar === \"\\n\") {\n    const delta = new Delta().retain(range.index).insert(\"\\n\");\n    quill.updateContents(delta, Quill.sources.USER);\n  }\n\n  Object.keys(formats).forEach((format) => {\n    quill.format(format, context.format[format], Quill.sources.USER);\n  });\n  quill.setSelection(range.index + 1, Quill.sources.SILENT);\n\n  const lineFormats = getLineFormats(context);\n  continueFormats(quill, context, lineFormats);\n};\n\nexport default function addEnterBindings(quill) {\n  quill.keyboard.addBinding({\n    key: 13,\n    shiftKey: true\n  }, (range, context) => {\n    lineBreakHandler(quill, range, context);\n  });\n\n  // HAX: make our SHIFT+ENTER binding the second (first is added below) in order to override Quill defaults\n  quill.keyboard.bindings[13].unshift(quill.keyboard.bindings[13].pop());\n\n  quill.keyboard.addBinding({ key: 13, shiftKey: false }, (range, context) => {\n    const lineFormats = getLineFormats(context);\n    const previousChar = quill.getText(range.index - 1, 1);\n    const nextChar = quill.getText(range.index, 1);\n    const delta = new Delta().retain(range.index).insert(\"\\n\", lineFormats);\n    // const length = context.prefix.length;\n    if (previousChar === \"\" || previousChar === \"\\n\") {\n      if (lineFormats.list && nextChar === \"\\n\") {\n        if (quill.getLength() - range.index > 2) {\n          const endFormatDelta = new Delta().retain(range.index - 1).delete(1);\n          quill.updateContents(endFormatDelta, Quill.sources.USER);\n        } else {\n          // Delete empty list item and end the list\n          const endFormatDelta = new Delta().retain(range.index - 1).delete(1).retain(range.index).insert(\"\\n\");\n          quill.updateContents(endFormatDelta, Quill.sources.USER);\n          quill.setSelection(range.index + 1, Quill.sources.SILENT);\n        }\n      } else {\n        quill.updateContents(delta, Quill.sources.USER);\n        if (context.offset === 1 && previousChar === \"\\n\") {\n          quill.setSelection(range.index + 1, Quill.sources.SILENT);\n        } else {\n          quill.setSelection(range.index + 2, Quill.sources.SILENT);\n        }\n      }\n    } else {\n      quill.updateContents(delta, Quill.sources.USER);\n      quill.setSelection(range.index + 1, Quill.sources.SILENT);\n    }\n    quill.focus();\n\n    continueFormats(quill, context, lineFormats);\n  });\n\n  // Replace the default enter handling because we have modified the break element\n  quill.keyboard.bindings[13].unshift(quill.keyboard.bindings[13].pop());\n  return;\n}\n\n","/* eslint-disable require-jsdoc */\n\n// ORGINAL: https://github.com/quilljs/delta/blob/ddda3bf088cda3ec03d5dbcc1179679d147f3a02/src/AttributeMap.ts\nexport default function attributeDiff(attributes1, attributes2) {\n  let alpha = attributes1;\n  let beta = attributes2;\n  if (typeof alpha !== \"object\") {\n    alpha = {};\n  }\n  if (typeof beta !== \"object\") {\n    beta = {};\n  }\n  const attributes = Object.keys(alpha).concat(Object.keys(beta)).reduce((attrs, key) => {\n    // ORGINAL: import isEqual from 'lodash.isequal'; if (!isEqual(a[key], b[key]))\n    if ((alpha[key] !== beta[key])) {\n      attrs[key] = null;\n      if (beta[key]) {\n        attrs[key] = beta[key]\n      }\n    }\n    return attrs;\n  }, {});\n\n  if (Object.keys(attributes).length > 0) {\n    return attributes;\n  }\n  return null;\n}\n","/* eslint-disable require-jsdoc */\n\nimport attributeDiff from \"src/decidim/editor/attribute_diff\"\n\nconst Delta = Quill.import(\"delta\");\n\nconst previousChar = (quill, range) => {\n  return quill.getText(range.index - 1, 1);\n}\n\nconst beforePreviousChar = (quill, range) => {\n  return quill.getText(range.index - 2, 1);\n}\n\nconst nextChar = (quill, range) => {\n  return quill.getText(range.index, 1);\n}\n\nconst handleListSelection = (quill, range) => {\n  const lastCharacterOfPreviousLine = quill.getText(range.index - 3, 1);\n  if (nextChar(quill, range) === \"\\n\" || lastCharacterOfPreviousLine !== \"\\n\") {\n    quill.setSelection(range.index - 1, Quill.sources.SILENT);\n  } else {\n    quill.setSelection(range.index - 3, Quill.sources.SILENT);\n  }\n}\n\nconst moveSelectionToPreviousLine = (quill, range) => {\n  const lastCharacterOfPreviousLine = quill.getText(range.index - 3, 1);\n  if (nextChar(quill, range) === \"\\n\" || lastCharacterOfPreviousLine !== \"\\n\") {\n    quill.setSelection(range.index - 1, Quill.sources.SILENT);\n  } else {\n    quill.setSelection(range.index - 3, Quill.sources.SILENT);\n  }\n}\n\nexport default function backspaceBindings(quill) {\n  quill.keyboard.addBinding({ key: 8, offset: 1, collapsed: true }, (range, context) => {\n    let length = 1\n    if ((/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/).test(context.prefix)) {\n      length = 2;\n    }\n\n    if (range.index === 0 || quill.getLength() <= 1) {\n      return;\n    }\n    let formats = {};\n    const [line] = quill.getLine(range.index);\n    let delta = new Delta().retain(range.index - length).delete(length);\n    if (context.offset === 1 && previousChar(quill, range) === \"\\n\") {\n      const [prev] = quill.getLine(range.index - 2);\n      if (prev && prev.statics.blotName === \"list-item\") {\n        formats = handleListSelection(quill, range);\n        if (prev !== null && prev.length() > 1) {\n          let curFormats = line.formats();\n          let prevFormats = quill.getFormat(range.index - 2, 1);\n          formats = attributeDiff(curFormats, prevFormats) || {};\n          length += 1;\n        }\n        delta = new Delta().retain(range.index - 2).delete(2);\n        moveSelectionToPreviousLine(quill, range);\n      } else {\n        delta = new Delta().retain(range.index - 1).delete(1);\n        if (range.index < 2) {\n          delta = new Delta().delete(1).retain(range.index + line.length() - 1);\n        } else if (previousChar(quill, range) === \"\\n\" && beforePreviousChar(quill, range) === \"\\n\") {\n          delta = new Delta().retain(range.index - 2).delete(2);\n        }\n      }\n    } else {\n      const [prev] = quill.getLine(range.index - 1);\n      if (prev) {\n        const isPrevLineEmpty =\n          prev.statics.blotName === \"block\" && prev.length() <= 1;\n        if (!isPrevLineEmpty) {\n          const curFormats = line.formats();\n          const prevFormats = quill.getFormat(range.index - 1, 1);\n          formats = attributeDiff(curFormats, prevFormats) || {};\n          if (Object.keys(formats).length > 0) {\n            // line.length() - 1 targets \\n in line, another -1 for newline being deleted\n            const formatDelta = new Delta().retain(range.index + line.length() - 2).retain(1, formats);\n            delta = delta.compose(formatDelta);\n          }\n        }\n      }\n    }\n    quill.updateContents(delta, Quill.sources.USER);\n    if (Object.keys(formats).length > 0) {\n      quill.formatLine(range.index - length, length, formats, Quill.sources.USER);\n    }\n    quill.focus();\n  });\n\n  // Put this backspace binding to second\n  quill.keyboard.bindings[8].splice(1, 0, quill.keyboard.bindings[8].pop());\n}\n","/* eslint-disable require-jsdoc */\n\nconst History = Quill.import(\"modules/history\");\nHistory.DEFAULTS = {\n  delay: 1000,\n  maxStack: 100,\n  userOnly: true\n};\n\n/**\n * Linebreak module brokes quill's default history class.\n * So here we are moving innerHTML to undo and redo stack\n * instead of deltas.\n */\nexport default class HistoryOverride extends History {\n  constructor(quill, options) {\n    super(quill, options);\n    this.lastRecorded = 0;\n    this.ignoreChange = false;\n    this.init = false;\n    this.quill.emitter.on(\"editor-ready\", () => {\n      this.clear();\n      const $input = $(this.quill.container).siblings('input[type=\"hidden\"]');\n      this.stack.undo.push({content: $input.val() || \"\", index: this.quill.getLength() - 2 });\n      this.lastLength = this.quill.getLength();\n    })\n    /* eslint-disable max-params */\n    this.quill.on(Quill.events.EDITOR_CHANGE, (eventName, delta, oldDelta, source) => {\n      if (!delta) {\n        return;\n      }\n      if (!this.init && eventName === \"selection-change\") {\n        this.stack.undo[0].index = delta.index;\n      }\n      if (eventName !== Quill.events.TEXT_CHANGE || this.ignoreChange) {\n        return;\n      }\n\n      if (!this.options.userOnly || source === Quill.sources.USER) {\n        this.record(delta, oldDelta);\n      }\n    });\n    this.quill.keyboard.addBinding({ key: \"Z\", shortKey: true }, this.undo.bind(this));\n    this.quill.keyboard.addBinding({ key: \"Z\", shortKey: true, shiftKey: true }, this.redo.bind(this));\n    if ((/Win/i).test(navigator.platform)) {\n      this.quill.keyboard.addBinding({ key: \"Y\", shortKey: true }, this.redo.bind(this));\n    }\n  }\n  /* eslint-enable max-params */\n\n  change(source, dest) {\n    if (this.stack[source].length === 0) {\n      return;\n    }\n    let obj = this.updateStacks(source, dest);\n    if (!obj.content) {\n      return;\n    }\n    if (!obj.index) {\n      obj.index = 0\n    }\n    this.lastRecorded = 0;\n    this.ignoreChange = true;\n    this.quill.setContents(this.quill.clipboard.convert(obj.content));\n    this.ignoreChange = false;\n    let index = obj.index;\n    this.quill.setSelection(index);\n  }\n\n  updateStacks(source, dest) {\n    if (source === \"undo\") {\n      if (this.stack.undo.length === 1) {\n        return this.stack.undo[0]\n      }\n      this.stack[dest].push(this.stack.undo.pop())\n      return this.stack.undo[this.stack.undo.length - 1]\n    }\n    let content = this.stack.redo.pop();\n    this.stack.undo.push(content)\n    return content\n  }\n\n  record(changeDelta) {\n    if (changeDelta.ops.length === 0) {\n      return\n    } else if (!this.init) {\n      this.init = true;\n    }\n    this.stack.redo = [];\n    let timestamp = Date.now();\n    // Should not return after length check, because after linebreak a keypress replaces invisible characters with\n    // visible characters.\n    // For example: <br><br></p> -> [press X] -> <br>X</p>.\n    if (Math.abs(this.lastLength === this.quill.getLength()) || this.lastRecorded + this.options.delay > timestamp) {\n      if (this.stack.undo.length > 1) {\n        this.stack.undo.pop();\n      }\n    } else {\n      this.lastLength = this.quill.getLength();\n      if (this.lastRecorded + this.options.delay <= timestamp) {\n        this.lastRecorded = timestamp;\n      }\n    }\n    this.stack.undo.push({content: this.quill.container.firstChild.innerHTML, index: this.quill.getSelection()})\n  }\n\n  transform() {\n    return;\n  }\n}\n","/* eslint-disable require-jsdoc */\n\nimport addEnterBindings from \"src/decidim/editor/modified_enter\"\nimport backspaceBindingsRangeAny from \"src/decidim/editor/modified_backspace_offset_any\"\nimport backspaceBindings from \"src/decidim/editor/modified_backspace_offset1\"\nimport HistoryOverride from \"src/decidim/editor/history_override\"\n\n// Disable warning messages from overwritting modules\nQuill.debug(\"error\");\n\n// It all started with these snippets of code: https://github.com/quilljs/quill/issues/252\nconst Delta = Quill.import(\"delta\");\nconst Break = Quill.import(\"blots/break\");\nconst Embed = Quill.import(\"blots/embed\");\nconst Scroll = Quill.import(\"blots/scroll\");\nconst Parchment = Quill.import(\"parchment\");\nQuill.register({\"modules/history\": HistoryOverride}, true);\nlet icons = Quill.import(\"ui/icons\");\nicons.linebreak = \"âŽ\";\n\nclass SmartBreak extends Break {\n  length() {\n    return 1;\n  }\n\n  value() {\n    return \"\\n\";\n  }\n\n  insertInto(parent, ref) {\n    // Embed.prototype.insertInto.call(this, parent, ref);\n    Reflect.apply(Embed.prototype.insertInto, this, [parent, ref]);\n  }\n}\nQuill.register(SmartBreak);\n\n// Override quill/blots/scroll.js\nclass ScrollOvderride extends Scroll {\n  optimize(mutations = [], context = {}) {\n    if (this.batch === true) {\n      return;\n    }\n\n    this.parchmentOptimize(mutations, context);\n\n    if (mutations.length > 0) {\n      // quill/core/emitter.js, Emitter.events.SCROLL_OPTIMIZE = \"scroll-optimize\"\n      this.emitter.emit(\"scroll-optimize\", mutations, context);\n    }\n  }\n\n  // Override parchment/src/blot/scroll.ts\n  parchmentOptimize(mutations = [], context = {}) {\n    // super.optimize(context);\n    Reflect.apply(Parchment.Container.prototype.optimize, this, [context]);\n\n    // We must modify mutations directly, cannot make copy and then modify\n    // let records = [].slice.call(this.observer.takeRecords());\n    let records = [...this.observer.takeRecords()];\n    // Array.push currently seems to be implemented by a non-tail recursive function\n    // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n    while (records.length > 0) {\n      mutations.push(records.pop());\n    }\n    let mark = (blot, markParent) => {\n      if (!blot || blot === this) {\n        return;\n      }\n      if (!blot.domNode.parentNode) {\n        return;\n      }\n      if (blot.domNode.__blot && blot.domNode.__blot.mutations === null) {\n        blot.domNode.__blot.mutations = [];\n      }\n      if (markParent) {\n        mark(blot.parent);\n      }\n    };\n    let optimize = (blot) => {\n      // Post-order traversal\n      if (!blot.domNode.__blot) {\n        return;\n      }\n\n      if (blot instanceof Parchment.Container) {\n        blot.children.forEach(optimize);\n      }\n      blot.optimize(context);\n    };\n    let remaining = mutations;\n    for (let ind = 0; remaining.length > 0; ind += 1) {\n      // MAX_OPTIMIZE_ITERATIONS = 100\n      if (ind >= 100) {\n        throw new Error(\"[Parchment] Maximum optimize iterations reached\");\n      }\n      remaining.forEach((mutation) => {\n        let blot = Parchment.find(mutation.target, true);\n        if (!blot) {\n          return;\n        }\n        if (blot.domNode === mutation.target) {\n          if (mutation.type === \"childList\") {\n            mark(Parchment.find(mutation.previousSibling, false));\n\n            mutation.addedNodes.forEach((node) => {\n              let child = Parchment.find(node, false);\n              mark(child, false);\n              if (child instanceof Parchment.Container) {\n                child.children.forEach(function(grandChild) {\n                  mark(grandChild, false);\n                });\n              }\n            });\n          } else if (mutation.type === \"attributes\") {\n            mark(blot.prev);\n          }\n        }\n        mark(blot);\n      });\n      this.children.forEach(optimize);\n      remaining = [...this.observer.takeRecords()];\n      records = remaining.slice();\n      while (records.length > 0) {\n        mutations.push(records.pop());\n      }\n    }\n  }\n};\nQuill.register(\"blots/scroll\", ScrollOvderride, true);\nParchment.register(ScrollOvderride);\n\n\nexport default function lineBreakButtonHandler(quill) {\n  let range = quill.selection.getRange()[0];\n  let currentLeaf = quill.getLeaf(range.index)[0];\n  let nextLeaf = quill.getLeaf(range.index + 1)[0];\n  const previousChar = quill.getText(range.index - 1, 1);\n\n  // Insert a second break if:\n  // At the end of the editor, OR next leaf has a different parent (<p>)\n  if (nextLeaf === null || (currentLeaf.parent !== nextLeaf.parent)) {\n    quill.insertEmbed(range.index, \"break\", true, \"user\");\n    quill.insertEmbed(range.index, \"break\", true, \"user\");\n  } else if (previousChar === \"\\n\") {\n    const delta = new Delta().retain(range.index).insert(\"\\n\");\n    quill.updateContents(delta, Quill.sources.USER);\n  } else {\n    quill.insertEmbed(range.index, \"break\", true, \"user\");\n  }\n\n  // Now that we've inserted a line break, move the cursor forward\n  quill.setSelection(range.index + 1, Quill.sources.SILENT);\n}\n\nQuill.register(\"modules/linebreak\", (quill) => {\n  quill.getModule(\"toolbar\").addHandler(\"linebreak\", () => {\n    lineBreakButtonHandler(quill);\n  });\n\n  quill.emitter.on(\"editor-ready\", () => {\n    const length = quill.getLength();\n    const text = quill.getText(length - 2, 2);\n\n    // Remove extraneous new lines\n    if (text === \"\\n\\n\") {\n      quill.deleteText(quill.getLength() - 2, 2);\n    }\n  });\n\n  quill.clipboard.addMatcher(\"BR\", (node) => {\n    if (node?.parentNode?.tagName === \"A\") {\n      return new Delta().insert(\"\\n\");\n    }\n    return new Delta().insert({\"break\": \"\"});\n  });\n\n  addEnterBindings(quill);\n  backspaceBindingsRangeAny(quill);\n  backspaceBindings(quill);\n\n  return;\n});\n\n","/* eslint-disable require-jsdoc */\n\nimport attributeDiff from \"src/decidim/editor/attribute_diff\"\n\nexport default function backspaceBindingsRangeAny(quill) {\n  quill.keyboard.addBinding({ key: 8, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null, collapsed: true }, (range, context) => {\n    let length = 1;\n    if (range.index === 0 || quill.getLength() <= 1) {\n      return;\n    }\n    let [line] = quill.getLine(range.index);\n    let formats = {};\n    if (context.offset === 0) {\n      let [prev] = quill.getLine(range.index - 1);\n      if (prev !== null && prev.length() > 1) {\n        let curFormats = line.formats();\n        let prevFormats = quill.getFormat(range.index - 1, 1);\n        formats = attributeDiff(curFormats, prevFormats) || {};\n        const previousLineLength = quill.getLine(range.index - 1)[1];\n        const previousChar = quill.getText(range.index - 1, 1)\n        const beforePreviousChar = quill.getText(range.index - 2, 1);\n        if (previousLineLength && previousLineLength === 1 && beforePreviousChar === \"\\n\") {\n          if (prevFormats && prevFormats.list) {\n            quill.setSelection(range.index - 2, Quill.sources.SILENT);\n          } else if (previousChar === \"\\n\" && beforePreviousChar === \"\\n\") {\n            length += 1;\n          }\n        }\n      }\n    }\n\n    if ((/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/).test(context.prefix)) {\n      length += 1;\n    }\n    quill.deleteText(range.index - length, length, Quill.sources.USER);\n\n    if (Object.keys(formats).length > 0) {\n      quill.formatLine(range.index - length, length, formats, Quill.sources.USER);\n    }\n    quill.focus();\n  })\n\n  // Put this backspace binding to second (after backspce_offset1 it's going to be third)\n  quill.keyboard.bindings[8].splice(1, 0, quill.keyboard.bindings[8].pop());\n}\n\n","import \"src/decidim/initiatives/application\"\nimport \"src/decidim/initiatives/identity_selector_dialog\"\nimport \"src/decidim/initiatives/scoped_type\"\n\n// Images\nrequire.context(\"../images\", true)\n","$(() => {\n  let button = $(\"#select-identity-button\"),\n      userIdentitiesDialog = $(\"#user-identities\");\n\n  if (userIdentitiesDialog.length) {\n    let refreshUrl = userIdentitiesDialog.data(\"refresh-url\");\n\n    button.click(function () {\n      $.ajax(refreshUrl).done(function(response) {\n        userIdentitiesDialog.html(response).foundation(\"open\");\n      });\n    });\n  }\n})\n","/* eslint-disable camelcase */\nconst controlSelector = function(source, prefix, currentValueKey) {\n  if (source.length) {\n    let currentValue = source.data(currentValueKey),\n        searchUrl = source.data(`${prefix}-search-url`),\n        targetElement = $(`#${source.data(`${prefix}-selector`)}`);\n\n    if (targetElement.length) {\n      let refresh = function () {\n        $.ajax({\n          url: searchUrl,\n          cache: false,\n          dataType: \"html\",\n          data: {\n            type_id: source.val(),\n            selected: currentValue\n          },\n          success: function (data) {\n            targetElement.html(data);\n          }\n        });\n      };\n\n      source.change(refresh);\n      refresh();\n    }\n  }\n};\n\n$(() => {\n  let typeSelector = $(\"[data-scope-selector]\");\n  controlSelector(typeSelector, \"scope\", \"scope-id\");\n  controlSelector(typeSelector, \"signature-types\", \"signature-type\");\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/decidim-packs/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t7982: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkapp\"] = self[\"webpackChunkapp\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [1532], function() { return __webpack_require__(16028); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Parchment","Quill","Delta","getLineFormats","context","format","reduce","formats","query","Array","isArray","continueFormats","quill","lineFormats","forEach","name","sources","USER","addEnterBindings","keyboard","addBinding","key","shiftKey","range","currentLeaf","getLeaf","index","nextLeaf","previousChar","getText","getFormat","next","domNode","tagName","parent","insertEmbed","removeFormat","SILENT","offset","delta","retain","insert","updateContents","setSelection","lineBreakHandler","bindings","unshift","pop","nextChar","list","getLength","endFormatDelta","focus","attributeDiff","attributes1","attributes2","alpha","beta","_typeof","attributes","concat","attrs","length","backspaceBindings","collapsed","test","prefix","line","getLine","prev","statics","blotName","lastCharacterOfPreviousLine","handleListSelection","moveSelectionToPreviousLine","beforePreviousChar","formatDelta","compose","formatLine","splice","History","DEFAULTS","delay","maxStack","userOnly","HistoryOverride","options","_this","lastRecorded","ignoreChange","init","emitter","on","clear","$input","$","container","siblings","stack","undo","push","content","val","lastLength","events","EDITOR_CHANGE","eventName","oldDelta","source","TEXT_CHANGE","record","shortKey","bind","redo","navigator","platform","dest","this","obj","updateStacks","setContents","clipboard","convert","changeDelta","ops","timestamp","Date","now","Math","abs","firstChild","innerHTML","getSelection","debug","Break","Embed","Scroll","register","linebreak","icons","SmartBreak","ref","Reflect","apply","prototype","insertInto","ScrollOvderride","mutations","batch","parchmentOptimize","emit","Container","optimize","records","observer","takeRecords","mark","blot","markParent","parentNode","__blot","children","remaining","ind","mutation","find","target","type","previousSibling","addedNodes","node","child","grandChild","slice","getModule","addHandler","selection","getRange","lineBreakButtonHandler","deleteText","addMatcher","altKey","ctrlKey","metaKey","curFormats","prevFormats","previousLineLength","backspaceBindingsRangeAny","require","button","userIdentitiesDialog","refreshUrl","data","click","ajax","done","response","html","foundation","controlSelector","currentValueKey","currentValue","searchUrl","targetElement","refresh","url","cache","dataType","type_id","selected","success","change","typeSelector","__webpack_module_cache__","moduleId","cachedModule","undefined","loaded","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","r","prop","hasOwnProperty","nmd","paths","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}